---
title: Running
sidebar_position: 40
---

# Running

With the Docker image available and the configuration file set up, you're now ready to run Galexie and start exporting Stellar ledger data to the GCS bucket.

## Command Line Usage

The primary way of running Galexie is using the `append` command.

### Append

Using the `append` command, Galexie can either continuously monitor the network for new ledgers and export them, or export a fixed ledger range and stop when it is exported.

Syntax:

```shell
stellar-galexie append --start <start_ledger> [--end <end_ledger>] [--config-file <config_file>]
```

Arguments:

`--start <start_ledger>` **(required)**

- The starting ledger sequence number of the range being exported.

`--end <end_ledger>` **(optional)**

- The ending ledger sequence number of the range being exported. If unspecified or set to 0, the exporter will continuously export new ledgers as they appear on the network.

`--config-file <config_file_path>` **(optional)**

- The path to the configuration file. If unspecified, the application will look for a file named `config.toml` in the current directory.

Example usage:

```shell
docker run --platform linux/amd64 -d \
-v "$HOME/.config/gcloud/application_default_credentials.json":/.config/gcp/credentials.json:ro \
-e GOOGLE_APPLICATION_CREDENTIALS=/.config/gcp/credentials.json \
-v ${PWD}/config.toml:/config.toml \
stellar/stellar-galexie \
append --start 350000 --end 450000 --config-file config.toml
```

`--platform linux/amd64`

- Specifies the platform architecture (adjust if needed for your system).

`-v` Mounts volumes to map your local GCP credentials and config.toml file to the container:

- `$HOME/.config/gcloud/application_default_credentials.json`: Your local GCP credentials file.
- `${PWD}/config.toml`: Your local configuration file.

`-e GOOGLE_APPLICATION_CREDENTIALS=/.config/gcp/credentials.json`

- Sets the environment variable for credentials within the container.

`stellar/stellar-galexie`

- The Docker image name.

#### Resumability:

The `append` command includes built-in resumability, allowing exports to continue seamlessly after an interruption. If Galexie is stopped mid-export, it will scan for the first missing ledger after the specified starting ledger upon restart. Exporting will then resume from that missing ledger, with no manual adjustment needed. To utilize resumability, simply restart Galexie with the same starting ledger, and it will pick up right where it left off.

### Scan-and-fill

While the `append` command is efficient, it may miss data gaps if there are multiple non-sequential gaps in the range. For more thorough verification, the `scan-and-fill` command provides a slower but comprehensive alternative, scanning a specified ledger range to locate and fill any gaps, ensuring data completeness. Due to its slower execution, `scan-and-fill` should be used sparingly and only when data gaps are suspected.

Syntax:

```shell
stellar-galexie scan-and-fill --start <start_ledger> --end <end_ledger> [--config-file <config_file>]
```

Arguments:

`--start <start_ledger>` **(required)**

- The starting ledger sequence number of the range being exported.

`--end <end_ledger>` **(required)**

- The ending ledger sequence number of the range being exported.

`--config-file <config_file_path>` **(optional)**:

- The path to the configuration file. If unspecified, the exporter will look for a file named “config.toml” in the current directory.

Example usage:

```shell
docker run --platform linux/amd64 -d \
-v "$HOME/.config/gcloud/application_default_credentials.json":/.config/gcp/credentials.json:ro \
-e GOOGLE_APPLICATION_CREDENTIALS=/.config/gcp/credentials.json \
-v ${PWD}/config.toml:/config.toml \
stellar/stellar-galexie \
scan-and-fill --start 64000 --end 68000 --config-file config.toml
```
